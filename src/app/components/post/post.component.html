<div *ngFor="let post of posts; let i = index">
  <button class="btn-card">
    <ion-card>
      <div class="post-uploader">
        <ion-button
          (click)="goToPostUploaderProfile(post)"
          class="btn-transparent"
        >
          <div class="uploader-profile">
            <ion-img
              src="https://tricky-photoshop.com/wp-content/uploads/2017/08/final-1.png"
            ></ion-img>
            <ion-text>{{ post.user_id.username }}</ion-text>
          </div>
        </ion-button>
        <app-post-popover></app-post-popover>
      </div>

      <!-- ? POST IMAGE -->
      <button (click)="likePost(post, i)">
        <img src="../../../assets/madison.jpg" />
      </button>

      <!-- ? BUTTONS SECTION -->
      <div class="post-buttons">
        <ion-button [class.heartLikedAnimation]="likeSelectedIndex == i"
          ><ion-icon name="heart" color="danger"></ion-icon
          ><ion-text>{{ post.likes }}</ion-text></ion-button
        >
        <!-- <ion-button
          ><ion-icon name="text" color="primary"></ion-icon
          >{{ post.comments }}</ion-button
        > -->

        <!-- ? COMMENTS COMPONENT -->
        <app-comment [postId]="post._id"></app-comment>

        <!-- ? VIEWS BUTTON -->
        <ion-button
          ><ion-icon name="eye" color="success"></ion-icon
          ><ion-text>{{ post.views }}</ion-text></ion-button
        >
      </div>
      <!-- 
          <ion-item lines="none">
            <ion-img
              src="../../../assets//images/blank-image.jpg"
              alt="Image of deal item"
              style="width: 40px;"
            ></ion-img>
            <ion-text>{{ post.title }}</ion-text>
          </ion-item> -->

      <!-- ? POST LOCALITY -->
      <ion-item lines="none" class="post-location">
        <ion-label>{{ post.locality }}</ion-label>
        <ion-label>{{ post.storeName }}</ion-label>
      </ion-item>

      <!-- ? FAVOURITE POST | POST PRICE & TITLE -->
      <ion-card-header>
        <ion-button id="btn-favourite" (click)="favouritePost(post, i)"
          ><ion-icon
            name="star"
            class="unfavourited"
            [class.favourited]="favSelectedIndex == i"
          ></ion-icon
        ></ion-button>
        <ion-card-title>â‚¬ {{ post.price }}</ion-card-title>
        <ion-card-title>{{ post.title }}</ion-card-title>
      </ion-card-header>

      <!-- ? POST DESCRIPTION -->
      <ion-card-content>
        {{ post.description }}
      </ion-card-content>
    </ion-card>
  </button>
</div>
