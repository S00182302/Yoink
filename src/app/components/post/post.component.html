<ion-card>

  <ion-card-header class="header">
    <ion-item lines="none" class="bookmark">
      <ion-button fill="outline" slot="end">
        <ion-icon name="bookmark" slot="start"></ion-icon>
        <ion-label>SAVE</ion-label>
      </ion-button>
    </ion-item>
    
    <div class="profile-small">
      <img  [src]="profileImage" alt="user profile image">
    </div>
    


    <ion-card-title class="username">{{post.username}}</ion-card-title>
    <ion-card-subtitle class="date">{{post.date}}</ion-card-subtitle>

  </ion-card-header>

  <ion-card-content class="statement">
    {{post.statement}}
  </ion-card-content>

  <ion-item lines="none" class="Image">
    <img [src]="postImage" alt="Image of deal item" >
  </ion-item>

  <ion-item lines="none" class="social">
    <ion-label class="likes">Likes {{post.likes}}</ion-label>
    <ion-label class="comments">Comments {{post.comments}}</ion-label>
    <ion-label class="views">Views {{post.views}}</ion-label>
  </ion-item>

  <ion-item lines="none" class="product-details">
    <ion-label class="product-name">{{post.productName}}</ion-label>
    <ion-label class="price">€ {{post.price.toFixed(2)}}</ion-label>
  </ion-item>

  <ion-item lines="none" class="store">
    <ion-label>{{post.storeName}}</ion-label>
    <ion-label class="locality">{{post.locality}}</ion-label>
  </ion-item>

  <ion-item lines="none" class="expiry-date">
    <ion-label>Offer expires: {{post.expDate}}</ion-label>
  </ion-item>
</ion-card>






<ion-card class="btn-card post-master">
  
    <div class="post-uploader">
      <ion-button class="btn-transparent">
        <div class="uploader-profile" (click)="goToProfilePage()">
          <ion-img
            src="https://tricky-photoshop.com/wp-content/uploads/2017/08/final-1.png"
          ></ion-img>
          <ion-text>{{ post.username }}</ion-text>
        </div>
      </ion-button>

    <app-post-popover></app-post-popover>
  </div>

  <!-- ? POST IMAGE -->
  <button (click)="likePost(post)" id="btn-img-post">
    <ion-img [src]="postImage"></ion-img>
    <!-- <div *ngIf="!imageLoaded" class="ion-text-center">
      <ion-spinner name="crescent"></ion-spinner>
    </div> -->
  </button>

  <!-- ? BUTTONS SECTION -->
  <div class="post-buttons">
    <!-- ? HEART BUTTON -->
    <ion-button
      class="btn-transparent"
      [class.heartLikedAnimation]="likeSelectedIndex == index && postdblClicked"
      ><ion-icon name="heart" color="danger"></ion-icon
      ><ion-text>{{ post.likes }}</ion-text></ion-button
    >
    <!-- ? COMMENTS COMPONENT -->
    <app-comment [postId]="post._id"></app-comment>

    <!-- ? VIEWS BUTTON -->
    <ion-button class="btn-transparent"
      ><ion-icon name="eye" color="success"></ion-icon
      ><ion-text>{{ post.views }}</ion-text></ion-button
    >
  </div>

  <!-- ? POST LOCALITY -->
  <ion-item lines="none" class="post-location">
    <ion-label>{{ post.locality | titlecase }}</ion-label>
    <ion-label>{{ post.storeName | titlecase }}</ion-label>
  </ion-item>

  <!-- ? POST PRICE & TITLE & FAVOURITE COMPONENT -->
  <ion-card-header>
    <app-favourite [post]="post"></app-favourite>

    <ion-card-title
      ><ion-text>€ {{ post.price }}</ion-text></ion-card-title
    >

    <ion-card-title
      ><ion-text>{{ post.title | titlecase }}</ion-text></ion-card-title
    >
  </ion-card-header>

  <!-- ? POST DESCRIPTION -->
  <ion-card-content>
    <ion-text>
      {{ post.description }}
    </ion-text>
  </ion-card-content>
</ion-card>
